{
    "$view": {
        "actions": [],
        "attributes": {
            "_id": "viewSignup",
            "bg.color": "#ffffff",
            "statusBar.style": "dark"
        },
        "controls": [{
            "_id": "layoutHeader",
            "_type": "Layout",
            "attributes": {
                "bg.color": "#ffffff",
                "layoutType": "float",
                "size.h": 70,
                "size.w": "100%",
                "position.t": 0
            },
            "controls": [{
                "_id": "layoutDivider",
                "_type": "Layout",
                "attributes": {
                    "bg.color": "#FF4300",
                    "layoutType": "absolute",
                    "size.h": 1,
                    "size.w": "100%",
                    "align.v": "bottom"
                }
            }, {
                "_id": "title",
                "_type": "Text",
                "attributes": {
                    "align.h": "center",
                    "align.v": "top",
                    "color": "#FF4300",
                    "font": "HelveticaNeue-Thin:26",
                    "layoutType": "float",
                    "margin.top": 20,
                    "size.h": 50,
                    "size.w": "100%",
                    "text": "Login",
                    "text.align": "center"
                }
            }, {
                "_id": "imageLeft",
                "_type": "Text",
                "actions": [{
                    "_type": "Navigate",
                    "attributes": {
                        "*animation.duration": 0.5,
                        "*animation.type": "flip.l",
                        "stackType": "pop"
                    },
                    "on": "touchUp"
                }],
                "attributes": {
                    "align.h": "left",
                    "align.v": "middle",
                    "color": "#FF4300",
                    "font": "FontAwesome:24",
                    "text": "fa-times",
                    "layoutType": "float",
                    "margin.left": 10,
                    "padding.top": 18,
                    "size.h": 44,
                    "size.w": 44,
                    "visible": true
                }
            }]
        }, {
            "_id": "layoutMain",
            "_type": "Layout",
            "attributes": {
                "bg.color": "#ffffff",
                "layoutType": "absolute",
                "size.h": "100%",
                "size.w": "100%",
                "padding.top": 70,
                "padding": 10
            },
            "controls": [{
                "_id": "inputUsername",
                "_type": "TextInput",
                "actions": [{
                    "_type": "Modify",
                    "attributes": {
                        "_target": "$session"
                    },
                    "enabled": true,
                    "on": "textChanged",
                    "set": {
                        "reviewTitle": "[[$self.text]]"
                    }
                }],
                "attributes": {
                    "keyboardAdjustsScreen.enabled": false,
                    "placeholder.text": "Your username",
                    "margin.top": 10,
                    "padding": 10,
                    "size.h": 44,
                    "size.w": "100%",
                    "text.align": "left",
                    "font": "HelveticaNeue-Thin:20",
                    "bg.color": "#f0f0f0"
                }
            }, {
                "_id": "inputPassword",
                "_type": "TextInput",
                "actions": [{
                    "_type": "Modify",
                    "attributes": {
                        "_target": "$session"
                    },
                    "enabled": true,
                    "on": "textChanged",
                    "set": {
                        "reviewTitle": "[[$self.text]]"
                    }
                }],
                "attributes": {
                    "keyboardAdjustsScreen.enabled": false,
                    "placeholder.text": "Your password",
                    "margin.top": 10,
                    "padding": 10,
                    "size.h": 44,
                    "size.w": "100%",
                    "text.align": "left",
                    "font": "HelveticaNeue-Thin:20",
                    "bg.color": "#f0f0f0"
                }
            }, {
                "_id": "btnLogin",
                "_type": "Text",
                "attributes": {
                    "align.h": "center",
                    "color": "#FF4300",
                    "font": "HelveticaNeue-Thin:26",
                    "margin.top": 5,
                    "size.h": 44,
                    "size.w": "100%",
                    "text": "Submit",
                    "text.align": "center"
                },
                "actions": [{
                    "_type": "Load",
                    "attributes": {
                        "_target": "dataAuth"
                    },
                    "on": "touchUp, returnKeyPressed"
                }]
            }, {
                "_id": "btnSignup",
                "_type": "Text",
                "attributes": {
                    "layoutType": "absolute",
                    "align.h": "center",
                    "align.v": "bottom",
                    "color": "#FF4300",
                    "font": "HelveticaNeue-Thin:26",
                    "margin.bottom": 15,
                    "size.h": 44,
                    "size.w": "100%",
                    "text": "Sign Up",
                    "text.align": "center"
                },
                "actions": [{
                    "_type": "Navigate",
                    "attributes": {
                        "to": "viewSignup.json"
                    },
                    "on": "touchUp"
                }]
            }]
        }],
        "datasources": [{
            "_id": "dataAuth",
            "_type": "HTTP",
            "actions": [{
                "_type": "Modify",
                "attributes": {
                    "_target": "$session"
                },
                "set": {
                    "access_token": "[[dataAuth.access_token]]"
                },
                "enabled": true,
                "on": "success"
            }, {
                "_type": "Navigate",
                "attributes": {
                    "stackType": "push",
                    "to": "viewRestaurantReview.json",
                },
                "on": "success"
            }],
            "attributes": {
                "autoLoad.enabled": false,
                "url": "https://api.usergrid.com/grewis/sandbox/token",
                "method": "POST"
            },
            "parameters": {
                "grant_type": "password",
                "username": "[[inputUsername.text]]",
                "password": "[[inputPassword.text]]"
            }

        }]
    }
}